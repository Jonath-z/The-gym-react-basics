import * as React from "react";
import { useEffect, useState } from "react";
import cssMod from "./ReactFlipCard.module.css";
var Direction;
(function (Direction) {
    Direction["vertical"] = "vertical";
    Direction["horizontal"] = "horizontal";
    Direction["diagonal"] = "diagonal";
})(Direction || (Direction = {}));
var FlipTrigger;
(function (FlipTrigger) {
    FlipTrigger["onClick"] = "onClick";
    FlipTrigger["onHover"] = "onHover";
    FlipTrigger["disabled"] = "disabled";
})(FlipTrigger || (FlipTrigger = {}));
function getDirectionCssClass(direction) {
    switch (direction) {
        case Direction.vertical:
            return cssMod.rotateX180Deg;
        case Direction.horizontal:
            return cssMod.rotateY180Deg;
        case Direction.diagonal:
            return cssMod.rotateDiagonal;
        default:
            return cssMod.rotateY180Deg;
    }
}
export default function ReactFlipCard({ containerStyle = {}, containerCss = '', flipCardStyle = {}, flipCardCss = '', frontStyle = {}, frontCss = '', backStyle = {}, backCss = '', direction = Direction.horizontal, flipTrigger = FlipTrigger.onHover, flipByProp = undefined, frontComponent = React.createElement("div", null, "Front"), backComponent = React.createElement("div", null, "Back"), onClick = () => undefined, onMouseEnter = () => undefined, onMouseLeave = () => undefined }) {
    const [isFlipped, setIsFlipped] = useState(false);
    useEffect(() => {
        if (flipByProp !== undefined)
            setIsFlipped(flipByProp);
    }, [flipByProp]);
    return (React.createElement("div", { style: containerStyle, className: `${cssMod.container} ${containerCss} `, onMouseEnter: (e) => {
            if (flipTrigger === FlipTrigger.onHover) {
                setIsFlipped(!isFlipped);
            }
            onMouseEnter(e);
        }, onMouseLeave: (e) => {
            if (flipTrigger === FlipTrigger.onHover) {
                setIsFlipped(!isFlipped);
            }
            onMouseLeave(e);
        }, onClick: (e) => {
            if (flipTrigger === FlipTrigger.onClick) {
                setIsFlipped(!isFlipped);
            }
            onClick(e);
        } },
        React.createElement("div", { className: `${cssMod.flipCard} ${flipCardCss} ${isFlipped ? getDirectionCssClass(direction) : ''}`, style: flipCardStyle },
            React.createElement("div", { className: `${cssMod.flipCardFront} ${frontCss}`, style: frontStyle }, frontComponent),
            React.createElement("div", { className: `${cssMod.flipCardBack} ${backCss} ${getDirectionCssClass(direction)}`, style: backStyle }, backComponent))));
}
